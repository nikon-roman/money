<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script type='text/javascript'>
    (function(){
    if(!sessionStorage.getItem('firstLoad')){
        sessionStorage['firstLoad'] = true;
        window.location.reload();
    }else{
        sessionStorage.removeItem('firstLoad');
    }})();
</script>

<h1><strong>Звіт по датам</strong></h1>
<h3>За період з <%= @start_date %> по <%= @end_date %></h3>

<canvas id="myChart" width="1200" height="600"></canvas>
<script>
    const data = {
    labels: <%= raw @dates %>,
        datasets: [{
        label: 'Звіт по датам',
        data: <%= @money %>,
        fill: false,
        borderColor: 'rgb(75, 192, 192)',
        tension: 0.1
    }]
};
    const config = {
    type: 'line',
    data: data,
    options: {responsive: false}
    };
    
    // const myChart = new Chart(ctx, config);

    const myChart = new Chart(
    document.getElementById('myChart'),
    config
    );
</script>
